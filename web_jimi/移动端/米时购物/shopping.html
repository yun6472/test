<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<title>米时购物</title>
		<link rel="stylesheet" href="fonts/iconfont.css">
		<link rel="stylesheet" href="js/need/layer.css">
		<link rel="stylesheet" href="css/swiper-3.2.5.min.css">
		<link rel="stylesheet" href="css/index.css">
		<link rel="stylesheet" href="css/shopping.css">
	</head>
	<body>
		<div class="filter-top" id="scrollUp">
			<i class="iconfont icon-jiantou"></i>
		</div>
		<div class="con">
			<header class="dis-box header-menu b-color color-whie">
				<a class="" href="##"><i class="iconfont icon-back"></i></a>
				<h3 class="box-flex">购物车</h3>
				<a></a>
			</header>
			<div class="flow-cart blur-div">
				<!-- 购物车空的时候 -->
				<section class="flow-no-cart select-three"  style="display: none;">
					<div class="shopping-empty">
						<span class="gwc-bg">
							<i class="iconfont icon-gouwuche"></i>
						</span>
						<p class="t-remark text-center">购物车什么也没有</p>
						<a href="##" type="button" class="btn-default">去逛逛</a>
					</div>
					<div class="f-n-c-prolist product-one-list j-f-n-c-prolist b-color-f">
						<h3 class="padding-all shopping-want">你可能想要</h3>
						<div class="swiper-wrapper">
							<li class="swiper-slide">
								<div class="product-div">
									<a class="product-div-link" href="##"></a>
									<img class="product-list-img" src="images/pic08.jpg" />
									<div class="product-text m-top06">
										<h4>花花公子2016秋季新品头层牛皮系带商务正装皮鞋</h4>
										<p><span class="p-price t-first "> ¥298.00</span>
										</p>
									</div>
								</div>
							</li>
							<li class="swiper-slide">
								<div class="product-div">
									<a class="product-div-link" href="##"></a>
									<img class="product-list-img" src="images/pic08.jpg" />
									<div class="product-text m-top06">
										<h4>花花公子2016秋季新品头层牛皮系带商务正装皮鞋</h4>
										<p><span class="p-price t-first "> ¥298.00</span>
										</p>
									</div>
								</div>
							</li>
						</div>
					</div>
				</section>
				<!-- 购物车有东西 -->
				<section class="flow-have-cart select-three j-select-all">
					<section class="m-top10 j-cart-get-i-more">
						<header class="b-color-f padding-all of-hidden dis-box">
							<div class="ect-select box-flex is-shop">
								<label class="dis-box label-this-all active">
									<i class="j-select-btn"></i>
									<span class="box-flex"><a href="##">花花公子专营店</a></span>
								</label>
							</div>
						</header>
						<div class="m-top1px b-color-f padding-all product-list-small">
							<ul>
								<li>
									<div class="g-promotion-con ts-5">
										<div class="g-promotion-con-sh m-top04"></div>
									</div>
									<div class="dis-box drop3787">
										<input type="hidden" class="total">
										<div class="ect-select">
											<label class="active rec-active">
												<i class="j-select-btn"></i>
											</label>
										</div>
										<div class="box-flex">
											<div class="product-div">
												<div class="p-d-img fl">
													<a href="##">
														<img class="product-list-img" src="images/pic08.jpg" />
													</a>
												</div>
												<div class="product-text">
													<h4 class="onelist-hidden"><a href="##">花花公子2016秋季新品头层牛皮系带商务正装皮鞋</a></h4>
													<span class="t-first single-price">¥298.00</span>
													<p class="p-t-remark onelist-hidden">颜色:黑色[¥0.00] 码数:38[¥0.00] </p>
													<div class="div-num dis-box m-top04">
														<a class="num-up" ></a>
														<input class="box-flex cart-number active" type="number" readonly value="1" />
														<a class="num-next" href="##"></a>
													</div>
													<i class="iconfont icon-xiao10"></i>
												</div>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
					</section>
					<section class="m-top10 j-cart-get-i-more">
						<header class="b-color-f padding-all of-hidden dis-box">
							<div class="ect-select box-flex is-shop">
								<label class="dis-box label-this-all active">
									<i class="j-select-btn"></i>
									<span class="box-flex"><a href="##">花花公子专营店</a></span>
								</label>
							</div>
						</header>
						<div class="m-top1px b-color-f padding-all product-list-small">
							<ul>
								<li>
									<div class="g-promotion-con ts-5">
										<div class="g-promotion-con-sh m-top04"></div>
									</div>
									<div class="dis-box drop3787">
										<input type="hidden" class="total">
										<div class="ect-select">
											<label class="active rec-active">
												<i class="j-select-btn"></i>
											</label>
										</div>
										<div class="box-flex">
											<div class="product-div">
												<div class="p-d-img fl">
													<a href="##">
														<img class="product-list-img" src="images/pic08.jpg" />
													</a>
												</div>
												<div class="product-text">
													<h4 class="onelist-hidden"><a href="##">花花公子2016秋季新品头层牛皮系带商务正装皮鞋</a></h4>
													<span class="t-first single-price">¥298.00</span>
													<p class="p-t-remark onelist-hidden">颜色:黑色[¥0.00] 码数:38[¥0.00] </p>
													<div class="div-num dis-box m-top04">
														<a class="num-up" ></a>
														<input class="box-flex cart-number active" type="number" readonly value="1" />
														<a class="num-next" href="##"></a>
													</div>
													<i class="iconfont icon-xiao10"></i>
												</div>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
					</section>
					<section >
						<section class="padding-all text-center t-remark2 ">
							<p class="j-goodsinfo-div">推荐商品</p>
						</section>
						<section class="product-list j-product-list product-list-medium">
							<ul>
								<li>
									<div class="product-div">
										<a href="##"><img class="product-list-img" src="images/pic08.jpg" /></a>
										<div class="product-text">
											<a href="##">
												<h4>花花公子2016秋季新品头层牛皮系带商务正装皮鞋</h4></a>
											<p class="dis-box p-t-remark"><span class="box-flex">库存:5000</span><span class="box-flex">销量:29057</span></p>
											<p><span class="p-price t-first ">¥298.00<small><del>¥660.00</del></small></span></p>
											<a class="icon-flow-cart j-goods-attr fr"><i class="iconfont icon-gouwuche"></i></a>
										</div>
									</div>
								</li>
							</ul>
						</section>
					</section>
				</section>
				<section class="filter-btn f-cart-filter-btn dis-box">
					<div class="box-flex select-three j-cart-get-more j-get-more-all">
						<div class="ect-select">
							<label class="dis-box label-all active">
								<i class="select-btn"></i>
								<span class="box-flex">全选</span>
							</label>
						</div>
						<div class="g-cart-filter-price of-hidden">
							<p class="dis-box"><em class="dis-block">合计：</em>
								<span class="t-first box-flex onelist-hidden cart-price-show">¥298.00</span>
							</p>
							<p class="t-remark">不含运费</p>
						</div>
					</div>
					<div class="g-cart-filter-sb">
						<span class="span-bianji fl"><i class="iconfont icon-bianji1"></i><em>编辑</em></span>
						<input type="hidden" name="cart_value" value="">
						<a type="button" class="btn-submit fl">结算 (<span class="cart-number-show">1</span>)</a>
					</div>
					<div class="g-cart-filter-bj">
						<span class="heart j-heart fl"><i class="ts-2"></i><em class="ts-2">收藏</em></span>
						<a type="button" class="btn-default j-btn-default fl">返回</a>
						<a type="button" class="btn-submit fl delete">删除</a>
					</div>
				</section>
			</div>
		</div>
		<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="js/swiper-3.2.5.min.js"></script>
		<script type="text/javascript" src="js/layer.js"></script>
		<script>

			//购物车空的时候推荐的商品
			var swiper = new Swiper('.j-f-n-c-prolist', {
				scrollbarHide: true,
				slidesPerView: 'auto',
				centeredSlides: false,
				grabCursor: true
			});

			//选择商品数量
			$(".div-num a").click(function() {
				if ($(this).hasClass("num-up")) {
					num = parseInt($(this).siblings("input").val());
					min_num = 1;
					if (num > min_num) {
						num -= 1;
						$(this).siblings("input").val(num);
					} else {
						d_messages("不能小于最小数量");//当小于1的时候弹窗
					}
					return false;
				}
				if ($(this).hasClass("num-next")) {
					num = parseInt($(this).siblings("input").val());
						num += 1;
					$(this).siblings("input").val(num);
					return false;
				}
			});

			/*多选*/
            $(".j-cart-get-more .ect-select").click(function() {
                if (!$(this).find("label").hasClass("active")) {
                    $(this).find("label").addClass("active");
                    $("input[name=cart_number]").addClass("active");
                    if ($(this).find("label").hasClass("label-all")) {
                        $(".j-select-all").find(".ect-select label").addClass("active");
                    }
                } else {
                    $(this).find("label").removeClass("active");
                    $("input[name=cart_number]").removeClass("active");
                    if ($(this).find("label").hasClass("label-all")) {
                        $(".cart-price-show").text("￥0.00");
                        $(".cart-number-show").text(0);
                        $(".j-select-all").find(".ect-select label").removeClass("active");
                    }
                }
            });
            /*多选只点击单选按钮 - 全选，全不选*/
            $(".j-cart-get-i-more .j-select-btn").click(function() {
                is_select_all = true;
                if ($(this).parent("label").hasClass("label-this-all")) {
                    if (!$(this).parent("label").hasClass("active")) {
                        $(this).parents(".j-cart-get-i-more").find(".ect-select label").addClass("active");
                    } else {
                        $(this).parents(".j-cart-get-i-more").find(".ect-select label").removeClass("active");
                    }
                }
                if (!$(this).parent("label").hasClass("label-this-all") && !$(this).parent("label").hasClass("label-all")) {
                    $(this).parent("label").toggleClass("active");
                    is_select_this_all = true;
                    select_this_all = $(this).parents(".j-cart-get-i-more").find(".ect-select label").not(".label-this-all");
                    select_this_all.each(function() {
                        if (!$(this).hasClass("active")) {
                            is_select_this_all = false;
                            return false;
                        }
                    })
                    if (is_select_this_all) {
                        $(this).parents(".j-cart-get-i-more").find(".label-this-all").addClass("active");
                    } else {
                        $(this).parents(".j-cart-get-i-more").find(".label-this-all").removeClass("active");
                    }
                }
                var select_all = $(".j-select-all").find(".ect-select label");
                select_all.each(function() {
                    if (!$(this).hasClass("active")) {
                        is_select_all = false;
                        return false;
                    }
                });
                if (is_select_all) {
                    $(".label-all").addClass("active");
                } else {
                    $(".label-all").removeClass("active");
                }
            });
            //点击底部导航栏编辑
            $(".f-cart-filter-btn .span-bianji").click(function() {
				$(".f-cart-filter-btn").addClass("active");
			})
			$(".f-cart-filter-btn .j-btn-default").click(function() {
				$(".f-cart-filter-btn").removeClass("active");
			})
            $(".j-heart").click(function() {
				$(this).toggleClass("active");
			})
			//点击商品中的删除图标
			$(".flow-have-cart").on('click', '.icon-xiao10', function() {
				if($(this).parents("ul").children("li").length == 1){
					$(this).parents(".j-cart-get-i-more").remove();
					if ($(".j-cart-get-i-more").length == 0) {
						$(".flow-no-cart").show();
						$(".filter-btn").hide();
						$(".flow-have-cart").hide();
					}
				}else{
					$(this).parents("li").remove();
				}
			});

			//消息弹出层
            function d_messages(content) {
			    var style_text = "border:none; background: rgba(0,0,0,.7); color:#fff; max-width:90%; min-width:1rem; margin:0 auto; border-radius:.8rem;";
			    layer.open({
			        style: style_text,
			        type: 0,
			        anim: 3,
			        content: content,
			        shade: false,
			        time: 2
			    })
			}
		</script>
	</body>
</html>